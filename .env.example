# ==============================================================================
# Backend Configuration
# ==============================================================================

# Database
# Use postgresql+asyncpg:// for async FastAPI compatibility
DATABASE_URL=postgresql+asyncpg://postgres:postgres@localhost:5432/finance_report

# App Settings
ENV=development
DEBUG=true
BASE_CURRENCY=SGD

# OpenRouter AI Support (Free Models)
# Required for document extraction and AI advisor
OPENROUTER_API_KEY=
PRIMARY_MODEL=google/gemini-2.0-flash-exp:free
FALLBACK_MODELS=google/gemini-flash-1.5-8b:free,mistralai/pixtral-12b:free
OPENROUTER_DAILY_LIMIT_USD=2

# S3 / MinIO Storage
# Used for storing uploaded statement files
S3_ENDPOINT=http://localhost:9000
S3_ACCESS_KEY=minio
S3_SECRET_KEY=<YOUR_S3_SECRET_KEY>
S3_BUCKET=statements
S3_REGION=us-east-1

# S3 Public Access (for OpenRouter)
# Required if S3_ENDPOINT is internal/private
# S3_PUBLIC_ENDPOINT=https://s3.zitian.party
# S3_PUBLIC_ACCESS_KEY=<OPTIONAL_PUBLIC_KEY>
# S3_PUBLIC_SECRET_KEY=<OPTIONAL_PUBLIC_SECRET>
# S3_PUBLIC_BUCKET=<OPTIONAL_PUBLIC_BUCKET>

# Observability (SigNoz / OTLP)
# Optional: set in production to ship logs to SigNoz
# OTEL_EXPORTER_OTLP_ENDPOINT=http://platform-signoz-otel-collector:4318
# OTEL_SERVICE_NAME=finance-report-backend
# OTEL_RESOURCE_ATTRIBUTES=deployment.environment=development

# Redis (Production/Staging only)
# Moved to Security section

# Security
CORS_ORIGINS=http://localhost:3000,http://localhost:3001
SECRET_KEY=generate_a_secure_token_for_production_here
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=1440
# Required for distributed rate limiting
REDIS_URL=redis://localhost:6379/0

# ==============================================================================
# Frontend Configuration
# ==============================================================================

# API link for local development (rewrites handle /api prefix)
NEXT_PUBLIC_API_URL=http://localhost:8000
# App link for local development
NEXT_PUBLIC_APP_URL=http://localhost:3000
