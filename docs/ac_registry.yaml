# Central AC (Acceptance Criteria) Registry
# Machine-readable SSOT for all Acceptance Criteria.
# Source of truth: docs/project/EPIC-*.md files.
# DO NOT edit this file manually — run scripts/generate_ac_registry.py to regenerate.
# Format: YAML list under 'acs' key.
# Total ACs: 487

version: '1.0'
total: 487
acs:
  # EPIC-001: phase0-setup
  - id: AC1.1.1
    epic: 1
    epic_name: phase0-setup
    description: 'Root moon.yml exists'
    mandatory: true
  - id: AC1.1.2
    epic: 1
    epic_name: phase0-setup
    description: 'apps/backend/moon.yml exists'
    mandatory: true
  - id: AC1.1.3
    epic: 1
    epic_name: phase0-setup
    description: 'apps/frontend/moon.yml exists'
    mandatory: true
  - id: AC1.1.4
    epic: 1
    epic_name: phase0-setup
    description: 'infra/moon.yml exists'
    mandatory: true
  - id: AC1.2.1
    epic: 1
    epic_name: phase0-setup
    description: 'FastAPI project structure exists'
    mandatory: true
  - id: AC1.2.2
    epic: 1
    epic_name: phase0-setup
    description: 'Auth integration works (register/login/JWT)'
    mandatory: true
  - id: AC1.2.3
    epic: 1
    epic_name: phase0-setup
    description: 'SQLAlchemy + Alembic config valid'
    mandatory: true
  - id: AC1.2.4
    epic: 1
    epic_name: phase0-setup
    description: 'Health endpoint returns success'
    mandatory: true
  - id: AC1.2.5
    epic: 1
    epic_name: phase0-setup
    description: 'structlog logging configured'
    mandatory: true
  - id: AC1.3.1
    epic: 1
    epic_name: phase0-setup
    description: 'Next.js App Router files exist'
    mandatory: true
  - id: AC1.3.2
    epic: 1
    epic_name: phase0-setup
    description: 'TailwindCSS configuration exists'
    mandatory: true
  - id: AC1.3.3
    epic: 1
    epic_name: phase0-setup
    description: 'Ping-pong page exists'
    mandatory: true
  - id: AC1.3.4
    epic: 1
    epic_name: phase0-setup
    description: 'TanStack Query dependency configured'
    mandatory: true
  - id: AC1.4.1
    epic: 1
    epic_name: phase0-setup
    description: 'docker-compose.yml integrity valid'
    mandatory: true
  - id: AC1.4.2
    epic: 1
    epic_name: phase0-setup
    description: 'PostgreSQL 15 container defined'
    mandatory: true
  - id: AC1.4.3
    epic: 1
    epic_name: phase0-setup
    description: 'Redis 7 container defined'
    mandatory: true
  - id: AC1.4.4
    epic: 1
    epic_name: phase0-setup
    description: 'Data volumes configured'
    mandatory: true
  - id: AC1.5.1
    epic: 1
    epic_name: phase0-setup
    description: 'Backend startup command path is valid'
    mandatory: true
  - id: AC1.5.2
    epic: 1
    epic_name: phase0-setup
    description: 'Frontend startup command path is valid'
    mandatory: true
  - id: AC1.5.3
    epic: 1
    epic_name: phase0-setup
    description: 'Health endpoint returns 200'
    mandatory: true
  - id: AC1.5.4
    epic: 1
    epic_name: phase0-setup
    description: 'Backend ping-pong endpoint toggles state correctly'
    mandatory: true
  - id: AC1.5.5
    epic: 1
    epic_name: phase0-setup
    description: 'User registration/login API available'
    mandatory: true
  - id: AC1.6.1
    epic: 1
    epic_name: phase0-setup
    description: 'Pre-commit hooks configuration present'
    mandatory: true
  - id: AC1.7.1
    epic: 1
    epic_name: phase0-setup
    description: 'Register endpoint accepts valid user payload'
    mandatory: true
  - id: AC1.7.2
    epic: 1
    epic_name: phase0-setup
    description: 'Register endpoint rejects duplicate email'
    mandatory: true
  - id: AC1.7.3
    epic: 1
    epic_name: phase0-setup
    description: 'Login endpoint accepts valid credentials'
    mandatory: true
  - id: AC1.8.1
    epic: 1
    epic_name: phase0-setup
    description: 'User Management Endpoint Tests'
    mandatory: true
  # EPIC-002: double-entry-core
  - id: AC2.1.1
    epic: 2
    epic_name: double-entry-core
    description: 'Create account with valid data'
    mandatory: true
  - id: AC2.1.2
    epic: 2
    epic_name: double-entry-core
    description: 'Get account by ID'
    mandatory: true
  - id: AC2.1.3
    epic: 2
    epic_name: double-entry-core
    description: 'Get non-existent account fails'
    mandatory: true
  - id: AC2.1.4
    epic: 2
    epic_name: double-entry-core
    description: 'Update account successfully'
    mandatory: true
  - id: AC2.1.5
    epic: 2
    epic_name: double-entry-core
    description: 'Update non-existent account fails'
    mandatory: true
  - id: AC2.1.6
    epic: 2
    epic_name: double-entry-core
    description: 'List accounts with filters'
    mandatory: true
  - id: AC2.2.1
    epic: 2
    epic_name: double-entry-core
    description: 'Balanced entry passes validation'
    mandatory: true
  - id: AC2.2.2
    epic: 2
    epic_name: double-entry-core
    description: 'Unbalanced entry fails validation'
    mandatory: true
  - id: AC2.2.3
    epic: 2
    epic_name: double-entry-core
    description: 'Single-line entry fails (minimum 2 lines)'
    mandatory: true
  - id: AC2.2.4
    epic: 2
    epic_name: double-entry-core
    description: 'Decimal precision maintained'
    mandatory: true
  - id: AC2.2.5
    epic: 2
    epic_name: double-entry-core
    description: 'FX rate required for non-base currency'
    mandatory: true
  - id: AC2.2.6
    epic: 2
    epic_name: double-entry-core
    description: 'Unbalanced post attempt fails'
    mandatory: true
  - id: AC2.3.1
    epic: 2
    epic_name: double-entry-core
    description: 'Post draft entry successfully'
    mandatory: true
  - id: AC2.3.2
    epic: 2
    epic_name: double-entry-core
    description: 'Post already-posted entry fails'
    mandatory: true
  - id: AC2.3.3
    epic: 2
    epic_name: double-entry-core
    description: 'Posted entry cannot be reposted'
    mandatory: true
  - id: AC2.3.4
    epic: 2
    epic_name: double-entry-core
    description: 'Posted entry status immutable'
    mandatory: true
  - id: AC2.3.5
    epic: 2
    epic_name: double-entry-core
    description: 'Void entry creates reversal'
    mandatory: true
  - id: AC2.4.1
    epic: 2
    epic_name: double-entry-core
    description: 'Calculate balance for asset account'
    mandatory: true
  - id: AC2.4.2
    epic: 2
    epic_name: double-entry-core
    description: 'Calculate balance for income account'
    mandatory: true
  - id: AC2.4.3
    epic: 2
    epic_name: double-entry-core
    description: 'Draft entries excluded from balance'
    mandatory: true
  - id: AC2.4.4
    epic: 2
    epic_name: double-entry-core
    description: 'Calculate balances by account type'
    mandatory: true
  - id: AC2.4.5
    epic: 2
    epic_name: double-entry-core
    description: 'Empty account list returns empty balances'
    mandatory: true
  - id: AC2.5.1
    epic: 2
    epic_name: double-entry-core
    description: 'Accounting equation holds with all types'
    mandatory: true
  - id: AC2.5.2
    epic: 2
    epic_name: double-entry-core
    description: 'Equation violation detected'
    mandatory: true
  - id: AC2.5.3
    epic: 2
    epic_name: double-entry-core
    description: 'Accounting equation holds after transactions'
    mandatory: true
  - id: AC2.6.1
    epic: 2
    epic_name: double-entry-core
    description: 'Maximum amount (999,999,999.99)'
    mandatory: true
  - id: AC2.6.2
    epic: 2
    epic_name: double-entry-core
    description: 'Minimum amount (0.01)'
    mandatory: true
  - id: AC2.6.3
    epic: 2
    epic_name: double-entry-core
    description: 'Decimal precision loss detection'
    mandatory: true
  - id: AC2.6.4
    epic: 2
    epic_name: double-entry-core
    description: 'Many-line complex entry (salary breakdown)'
    mandatory: true
  - id: AC2.7.1
    epic: 2
    epic_name: double-entry-core
    description: 'Router uses flush not commit'
    mandatory: true
  - id: AC2.7.2
    epic: 2
    epic_name: double-entry-core
    description: 'Journal router error paths'
    mandatory: true
  - id: AC2.7.3
    epic: 2
    epic_name: double-entry-core
    description: 'Journal router additional scenarios'
    mandatory: true
  - id: AC2.8.1
    epic: 2
    epic_name: double-entry-core
    description: 'Never use float for monetary amounts'
    mandatory: true
  - id: AC2.8.2
    epic: 2
    epic_name: double-entry-core
    description: 'Decimal precision maintained in arithmetic'
    mandatory: true
  - id: AC2.9.1
    epic: 2
    epic_name: double-entry-core
    description: 'Account model supports required fields and types'
    mandatory: true
  - id: AC2.9.2
    epic: 2
    epic_name: double-entry-core
    description: 'JournalEntry model supports required fields and status flow'
    mandatory: true
  - id: AC2.9.3
    epic: 2
    epic_name: double-entry-core
    description: 'JournalLine enforces debit/credit + amount rules'
    mandatory: true
  - id: AC2.9.4
    epic: 2
    epic_name: double-entry-core
    description: 'Pydantic account/journal schemas validated'
    mandatory: true
  - id: AC2.10.1
    epic: 2
    epic_name: double-entry-core
    description: 'POST /accounts, GET /accounts, GET /accounts/{id}, PUT /accounts/{id}'
    mandatory: true
  - id: AC2.10.2
    epic: 2
    epic_name: double-entry-core
    description: 'POST /journal-entries, GET /journal-entries, GET /journal-entries/{id}'
    mandatory: true
  - id: AC2.10.3
    epic: 2
    epic_name: double-entry-core
    description: 'POST /journal-entries/{id}/post, POST /journal-entries/{id}/void'
    mandatory: true
  - id: AC2.10.4
    epic: 2
    epic_name: double-entry-core
    description: 'API error behavior for missing/invalid resources'
    mandatory: true
  - id: AC2.11.1
    epic: 2
    epic_name: double-entry-core
    description: 'Accounting equation always satisfied'
    mandatory: true
  - id: AC2.11.2
    epic: 2
    epic_name: double-entry-core
    description: 'All posted entries balanced'
    mandatory: true
  - id: AC2.11.3
    epic: 2
    epic_name: double-entry-core
    description: 'No float usage for monetary amounts'
    mandatory: true
  - id: AC2.11.4
    epic: 2
    epic_name: double-entry-core
    description: 'Multi-currency requires fx_rate'
    mandatory: true
  - id: AC2.11.5
    epic: 2
    epic_name: double-entry-core
    description: 'Posted entries cannot be edited'
    mandatory: true
  - id: AC2.11.6
    epic: 2
    epic_name: double-entry-core
    description: 'API response performance benchmark scenario documented'
    mandatory: true
  - id: AC2.12.6
    epic: 2
    epic_name: double-entry-core
    description: 'Statement Validation Logic Tests'
    mandatory: true
  # EPIC-003: statement-parsing
  - id: AC3.1.1
    epic: 3
    epic_name: statement-parsing
    description: 'Parse DBS PDF'
    mandatory: true
  - id: AC3.1.2
    epic: 3
    epic_name: statement-parsing
    description: 'Parse CSV (DBS)'
    mandatory: true
  - id: AC3.1.3
    epic: 3
    epic_name: statement-parsing
    description: 'Parse CSV (Wise)'
    mandatory: true
  - id: AC3.1.4
    epic: 3
    epic_name: statement-parsing
    description: 'Parse CSV (Generic)'
    mandatory: true
  - id: AC3.1.5
    epic: 3
    epic_name: statement-parsing
    description: 'Parse CSV with BOM'
    mandatory: true
  - id: AC3.2.1
    epic: 3
    epic_name: statement-parsing
    description: 'Balance Validation (Pass)'
    mandatory: true
  - id: AC3.2.2
    epic: 3
    epic_name: statement-parsing
    description: 'Balance Validation (Fail)'
    mandatory: true
  - id: AC3.2.3
    epic: 3
    epic_name: statement-parsing
    description: 'Completeness Validation'
    mandatory: true
  - id: AC3.3.1
    epic: 3
    epic_name: statement-parsing
    description: 'High Confidence (Auto-Accept)'
    mandatory: true
  - id: AC3.3.2
    epic: 3
    epic_name: statement-parsing
    description: 'Medium Confidence (Review)'
    mandatory: true
  - id: AC3.3.3
    epic: 3
    epic_name: statement-parsing
    description: 'Low Confidence (Manual)'
    mandatory: true
  - id: AC3.4.1
    epic: 3
    epic_name: statement-parsing
    description: 'Invalid Parse Not Persisted'
    mandatory: true
  - id: AC3.4.2
    epic: 3
    epic_name: statement-parsing
    description: 'Unsupported File Type'
    mandatory: true
  - id: AC3.4.3
    epic: 3
    epic_name: statement-parsing
    description: 'Extraction Timeout'
    mandatory: true
  - id: AC3.5.1
    epic: 3
    epic_name: statement-parsing
    description: 'Full Upload Flow'
    mandatory: true
  - id: AC3.5.2
    epic: 3
    epic_name: statement-parsing
    description: 'File Size Limit'
    mandatory: true
  - id: AC3.5.3
    epic: 3
    epic_name: statement-parsing
    description: 'Model Selection Flow'
    mandatory: true
  - id: AC3.5.4
    epic: 3
    epic_name: statement-parsing
    description: ', AC3.4.x × 6, AC3.5.5, AC3.4.x'
    mandatory: true
  - id: AC3.5.5
    epic: 3
    epic_name: statement-parsing
    description: ', AC3.4.x'
    mandatory: true
  # EPIC-004: reconciliation-engine
  - id: AC4.1.1
    epic: 4
    epic_name: reconciliation-engine
    description: 'Exact Matching'
    mandatory: true
  - id: AC4.1.2
    epic: 4
    epic_name: reconciliation-engine
    description: 'Fuzzy Date Matching'
    mandatory: true
  - id: AC4.1.3
    epic: 4
    epic_name: reconciliation-engine
    description: 'Amount Tolerance'
    mandatory: true
  - id: AC4.1.4
    epic: 4
    epic_name: reconciliation-engine
    description: 'Description Similarity'
    mandatory: true
  - id: AC4.2.1
    epic: 4
    epic_name: reconciliation-engine
    description: 'Many-to-One (Batch Payment)'
    mandatory: true
  - id: AC4.2.2
    epic: 4
    epic_name: reconciliation-engine
    description: 'Many-to-One Bonus'
    mandatory: true
  - id: AC4.2.3
    epic: 4
    epic_name: reconciliation-engine
    description: 'One-to-Many (Split)'
    mandatory: true
  - id: AC4.3.1
    epic: 4
    epic_name: reconciliation-engine
    description: 'Auto-Accept Logic'
    mandatory: true
  - id: AC4.3.2
    epic: 4
    epic_name: reconciliation-engine
    description: 'Review Queue Logic'
    mandatory: true
  - id: AC4.3.3
    epic: 4
    epic_name: reconciliation-engine
    description: 'Batch Accept'
    mandatory: true
  - id: AC4.4.1
    epic: 4
    epic_name: reconciliation-engine
    description: 'Large Batch Performance (1,000 txns)'
    mandatory: true
  - id: AC4.4.2
    epic: 4
    epic_name: reconciliation-engine
    description: 'Cross-Period Matching'
    mandatory: true
  - id: AC4.5.1
    epic: 4
    epic_name: reconciliation-engine
    description: 'Anomaly Detection Core'
    mandatory: true
  # EPIC-005: reporting-visualization
  - id: AC5.1.1
    epic: 5
    epic_name: reporting-visualization
    description: 'Accounting Equation'
    mandatory: true
  - id: AC5.1.2
    epic: 5
    epic_name: reporting-visualization
    description: 'FX Unrealized Gain'
    mandatory: true
  - id: AC5.1.3
    epic: 5
    epic_name: reporting-visualization
    description: 'Multi-Currency Aggregation'
    mandatory: true
  - id: AC5.1.4
    epic: 5
    epic_name: reporting-visualization
    description: 'Endpoint Response'
    mandatory: true
  - id: AC5.2.1
    epic: 5
    epic_name: reporting-visualization
    description: 'Net Income Calculation'
    mandatory: true
  - id: AC5.2.2
    epic: 5
    epic_name: reporting-visualization
    description: 'Comprehensive Income'
    mandatory: true
  - id: AC5.2.3
    epic: 5
    epic_name: reporting-visualization
    description: 'Date Range Filtering'
    mandatory: true
  - id: AC5.3.1
    epic: 5
    epic_name: reporting-visualization
    description: 'Statement Generation'
    mandatory: true
  - id: AC5.3.2
    epic: 5
    epic_name: reporting-visualization
    description: 'Empty Period Handling'
    mandatory: true
  - id: AC5.4.1
    epic: 5
    epic_name: reporting-visualization
    description: 'FX Fallbacks'
    mandatory: true
  - id: AC5.4.2
    epic: 5
    epic_name: reporting-visualization
    description: 'Balance Sheet Net Income FX Fallback'
    mandatory: true
  - id: AC5.5.1
    epic: 5
    epic_name: reporting-visualization
    description: 'Report Generation Error'
    mandatory: true
  - id: AC5.5.2
    epic: 5
    epic_name: reporting-visualization
    description: 'Router Error Handling'
    mandatory: true
  # EPIC-006: ai-advisor
  - id: AC6.1.1
    epic: 6
    epic_name: ai-advisor
    description: 'Prompt injection detection'
    mandatory: true
  - id: AC6.1.2
    epic: 6
    epic_name: ai-advisor
    description: 'Sensitive information detection'
    mandatory: true
  - id: AC6.1.3
    epic: 6
    epic_name: ai-advisor
    description: 'Write request detection'
    mandatory: true
  - id: AC6.1.4
    epic: 6
    epic_name: ai-advisor
    description: 'Non-financial query detection'
    mandatory: true
  - id: AC6.1.5
    epic: 6
    epic_name: ai-advisor
    description: 'Prompt injection negative cases'
    mandatory: true
  - id: AC6.2.1
    epic: 6
    epic_name: ai-advisor
    description: 'Chinese language detection'
    mandatory: true
  - id: AC6.2.2
    epic: 6
    epic_name: ai-advisor
    description: 'English language detection'
    mandatory: true
  - id: AC6.2.3
    epic: 6
    epic_name: ai-advisor
    description: 'Chinese suggestions'
    mandatory: true
  - id: AC6.2.4
    epic: 6
    epic_name: ai-advisor
    description: 'English suggestions'
    mandatory: true
  - id: AC6.2.5
    epic: 6
    epic_name: ai-advisor
    description: 'Auto-detect Chinese'
    mandatory: true
  - id: AC6.2.6
    epic: 6
    epic_name: ai-advisor
    description: 'Auto-detect English'
    mandatory: true
  - id: AC6.3.1
    epic: 6
    epic_name: ai-advisor
    description: 'Disclaimer appended once'
    mandatory: true
  - id: AC6.3.2
    epic: 6
    epic_name: ai-advisor
    description: 'Disclaimer respects existing'
    mandatory: true
  - id: AC6.4.1
    epic: 6
    epic_name: ai-advisor
    description: 'Get or create existing session'
    mandatory: true
  - id: AC6.4.2
    epic: 6
    epic_name: ai-advisor
    description: 'Session not found raises error'
    mandatory: true
  - id: AC6.4.3
    epic: 6
    epic_name: ai-advisor
    description: 'Load history skips system messages'
    mandatory: true
  - id: AC6.4.4
    epic: 6
    epic_name: ai-advisor
    description: 'Record message sets title'
    mandatory: true
  - id: AC6.4.5
    epic: 6
    epic_name: ai-advisor
    description: 'Delete session success'
    mandatory: true
  - id: AC6.4.6
    epic: 6
    epic_name: ai-advisor
    description: 'Delete session not found'
    mandatory: true
  - id: AC6.5.1
    epic: 6
    epic_name: ai-advisor
    description: 'Chat suggestions endpoint (EN)'
    mandatory: true
  - id: AC6.5.2
    epic: 6
    epic_name: ai-advisor
    description: 'Chat suggestions endpoint (ZH)'
    mandatory: true
  - id: AC6.5.3
    epic: 6
    epic_name: ai-advisor
    description: 'Chat error handling - API unavailable'
    mandatory: true
  - id: AC6.5.4
    epic: 6
    epic_name: ai-advisor
    description: 'Chat error handling - session not found'
    mandatory: true
  - id: AC6.5.5
    epic: 6
    epic_name: ai-advisor
    description: 'Chat error handling - bad request'
    mandatory: true
  - id: AC6.5.6
    epic: 6
    epic_name: ai-advisor
    description: 'Chat with model name header'
    mandatory: true
  - id: AC6.5.7
    epic: 6
    epic_name: ai-advisor
    description: 'Chat without model name header'
    mandatory: true
  - id: AC6.6.1
    epic: 6
    epic_name: ai-advisor
    description: 'Response cache TTL'
    mandatory: true
  - id: AC6.6.2
    epic: 6
    epic_name: ai-advisor
    description: 'Response cache prune'
    mandatory: true
  - id: AC6.6.3
    epic: 6
    epic_name: ai-advisor
    description: 'Chat stream uses cached response'
    mandatory: true
  - id: AC6.7.1
    epic: 6
    epic_name: ai-advisor
    description: 'Stream API key fallback'
    mandatory: true
  - id: AC6.7.2
    epic: 6
    epic_name: ai-advisor
    description: 'Stream raises when all fail'
    mandatory: true
  - id: AC6.7.3
    epic: 6
    epic_name: ai-advisor
    description: 'Chat stream requires API key'
    mandatory: true
  - id: AC6.7.4
    epic: 6
    epic_name: ai-advisor
    description: 'Stream redactor masks sensitive sequences'
    mandatory: true
  - id: AC6.7.5
    epic: 6
    epic_name: ai-advisor
    description: 'Stream redactor flushes tail'
    mandatory: true
  - id: AC6.7.6
    epic: 6
    epic_name: ai-advisor
    description: 'Stream redactor flush empty'
    mandatory: true
  - id: AC6.7.7
    epic: 6
    epic_name: ai-advisor
    description: 'Chat stream refusal branches'
    mandatory: true
  - id: AC6.8.1
    epic: 6
    epic_name: ai-advisor
    description: 'Financial context handles report errors'
    mandatory: true
  - id: AC6.8.2
    epic: 6
    epic_name: ai-advisor
    description: 'Financial context filters by user'
    mandatory: true
  - id: AC6.8.3
    epic: 6
    epic_name: ai-advisor
    description: 'Build refusal defaults to non-financial'
    mandatory: true
  - id: AC6.8.4
    epic: 6
    epic_name: ai-advisor
    description: 'Stream and store records response'
    mandatory: true
  - id: AC6.9.1
    epic: 6
    epic_name: ai-advisor
    description: 'Stream and store raises on stream error'
    mandatory: true
  - id: AC6.9.2
    epic: 6
    epic_name: ai-advisor
    description: 'Chat stream success path uses stream'
    mandatory: true
  - id: AC6.10.1
    epic: 6
    epic_name: ai-advisor
    description: 'Question normalization'
    mandatory: true
  - id: AC6.10.2
    epic: 6
    epic_name: ai-advisor
    description: 'Token estimation'
    mandatory: true
  - id: AC6.10.3
    epic: 6
    epic_name: ai-advisor
    description: 'Redact sensitive information'
    mandatory: true
  - id: AC6.10.4
    epic: 6
    epic_name: ai-advisor
    description: 'Chunk text splits text'
    mandatory: true
  - id: AC6.11.1
    epic: 6
    epic_name: ai-advisor
    description: 'Model catalog integration'
    mandatory: true
  - id: AC6.11.2
    epic: 6
    epic_name: ai-advisor
    description: 'Model validation integration'
    mandatory: true
  - id: AC6.11.3
    epic: 6
    epic_name: ai-advisor
    description: 'Model catalog caching'
    mandatory: true
  - id: AC6.12.1
    epic: 6
    epic_name: ai-advisor
    description: 'AI cannot modify ledger'
    mandatory: true
  - id: AC6.12.2
    epic: 6
    epic_name: ai-advisor
    description: 'Answers based on real data'
    mandatory: true
  - id: AC6.12.3
    epic: 6
    epic_name: ai-advisor
    description: 'Clear disclaimer'
    mandatory: true
  - id: AC6.12.4
    epic: 6
    epic_name: ai-advisor
    description: 'Support Chinese & English'
    mandatory: true
  - id: AC6.12.5
    epic: 6
    epic_name: ai-advisor
    description: 'OpenRouter API error handling'
    mandatory: true
  - id: AC6.12.6
    epic: 6
    epic_name: ai-advisor
    description: 'Session isolation'
    mandatory: true
  # EPIC-007: deployment
  - id: AC7.1.1
    epic: 7
    epic_name: deployment
    description: 'Infra2 submodule exists'
    mandatory: true
  - id: AC7.1.2
    epic: 7
    epic_name: deployment
    description: 'Finance_report directory structure'
    mandatory: true
  - id: AC7.1.3
    epic: 7
    epic_name: deployment
    description: 'README documentation exists'
    mandatory: true
  - id: AC7.2.1
    epic: 7
    epic_name: deployment
    description: 'PostgreSQL container configured'
    mandatory: true
  - id: AC7.2.2
    epic: 7
    epic_name: deployment
    description: 'Vault-agent sidecar present'
    mandatory: true
  - id: AC7.2.3
    epic: 7
    epic_name: deployment
    description: 'Vault policy for postgres'
    mandatory: true
  - id: AC7.2.4
    epic: 7
    epic_name: deployment
    description: 'Secrets template for postgres'
    mandatory: true
  - id: AC7.2.5
    epic: 7
    epic_name: deployment
    description: 'PostgresDeployer class exists'
    mandatory: true
  - id: AC7.3.1
    epic: 7
    epic_name: deployment
    description: 'Redis container configured'
    mandatory: true
  - id: AC7.3.2
    epic: 7
    epic_name: deployment
    description: 'Vault-agent sidecar present'
    mandatory: true
  - id: AC7.3.3
    epic: 7
    epic_name: deployment
    description: 'Vault policy for redis'
    mandatory: true
  - id: AC7.3.4
    epic: 7
    epic_name: deployment
    description: 'Secrets template for redis'
    mandatory: true
  - id: AC7.3.5
    epic: 7
    epic_name: deployment
    description: 'RedisDeployer class exists'
    mandatory: true
  - id: AC7.4.1
    epic: 7
    epic_name: deployment
    description: 'App container configured'
    mandatory: true
  - id: AC7.4.2
    epic: 7
    epic_name: deployment
    description: 'Vault-agent sidecar present'
    mandatory: true
  - id: AC7.4.3
    epic: 7
    epic_name: deployment
    description: 'Vault policy for app'
    mandatory: true
  - id: AC7.4.4
    epic: 7
    epic_name: deployment
    description: 'Secrets template for app'
    mandatory: true
  - id: AC7.4.5
    epic: 7
    epic_name: deployment
    description: 'Traefik labels for domain'
    mandatory: true
  - id: AC7.4.6
    epic: 7
    epic_name: deployment
    description: 'AppDeployer class exists'
    mandatory: true
  - id: AC7.5.1
    epic: 7
    epic_name: deployment
    description: 'DATABASE_URL in Vault'
    mandatory: true
  - id: AC7.5.2
    epic: 7
    epic_name: deployment
    description: 'REDIS_URL in Vault'
    mandatory: true
  - id: AC7.5.3
    epic: 7
    epic_name: deployment
    description: 'S3_* keys in Vault'
    mandatory: true
  - id: AC7.5.4
    epic: 7
    epic_name: deployment
    description: 'OPENROUTER_API_KEY in Vault'
    mandatory: true
  - id: AC7.5.5
    epic: 7
    epic_name: deployment
    description: 'Vault tokens generated'
    mandatory: true
  - id: AC7.6.1
    epic: 7
    epic_name: deployment
    description: 'Config syncs with .env.example'
    mandatory: true
  - id: AC7.6.2
    epic: 7
    epic_name: deployment
    description: 'Required secrets documented'
    mandatory: true
  - id: AC7.7.1
    epic: 7
    epic_name: deployment
    description: 'Health endpoint returns 200'
    mandatory: true
  - id: AC7.7.2
    epic: 7
    epic_name: deployment
    description: 'Health check with services down'
    mandatory: true
  - id: AC7.8.1
    epic: 7
    epic_name: deployment
    description: 'Moon CLI available'
    mandatory: true
  - id: AC7.8.2
    epic: 7
    epic_name: deployment
    description: 'Docker compose integrity'
    mandatory: true
  - id: AC7.8.3
    epic: 7
    epic_name: deployment
    description: 'Moon project graph valid'
    mandatory: true
  - id: AC7.9.1
    epic: 7
    epic_name: deployment
    description: 'PostgreSQL healthy (manual)'
    mandatory: true
  - id: AC7.9.2
    epic: 7
    epic_name: deployment
    description: 'Redis healthy (manual)'
    mandatory: true
  - id: AC7.9.3
    epic: 7
    epic_name: deployment
    description: 'App healthy (manual)'
    mandatory: true
  - id: AC7.9.4
    epic: 7
    epic_name: deployment
    description: 'Domain accessible (manual)'
    mandatory: true
  - id: AC7.9.5
    epic: 7
    epic_name: deployment
    description: 'API functional (manual)'
    mandatory: true
  - id: AC7.9.6
    epic: 7
    epic_name: deployment
    description: 'Secrets in Vault (manual)'
    mandatory: true
  - id: AC7.9.7
    epic: 7
    epic_name: deployment
    description: 'Backend health endpoint'
    mandatory: true
  - id: AC7.9.8
    epic: 7
    epic_name: deployment
    description: 'Config contract validation'
    mandatory: true
  # EPIC-008: testing-strategy
  - id: AC8.1.1
    epic: 8
    epic_name: testing-strategy
    description: 'API health check'
    mandatory: true
  - id: AC8.1.2
    epic: 8
    epic_name: testing-strategy
    description: 'Backend service reachable'
    mandatory: true
  - id: AC8.1.3
    epic: 8
    epic_name: testing-strategy
    description: 'Frontend service reachable'
    mandatory: true
  - id: AC8.1.4
    epic: 8
    epic_name: testing-strategy
    description: 'Database connectivity'
    mandatory: true
  - id: AC8.2.1
    epic: 8
    epic_name: testing-strategy
    description: 'New User Registration'
    mandatory: true
  - id: AC8.2.2
    epic: 8
    epic_name: testing-strategy
    description: 'Create Cash Account'
    mandatory: true
  - id: AC8.2.3
    epic: 8
    epic_name: testing-strategy
    description: 'Create Bank Account'
    mandatory: true
  - id: AC8.2.4
    epic: 8
    epic_name: testing-strategy
    description: 'Update account'
    mandatory: true
  - id: AC8.2.5
    epic: 8
    epic_name: testing-strategy
    description: 'Delete account'
    mandatory: true
  - id: AC8.3.1
    epic: 8
    epic_name: testing-strategy
    description: 'Simple Expense Entry'
    mandatory: true
  - id: AC8.3.2
    epic: 8
    epic_name: testing-strategy
    description: 'Void Entry'
    mandatory: true
  - id: AC8.3.3
    epic: 8
    epic_name: testing-strategy
    description: 'Post Draft Entry'
    mandatory: true
  - id: AC8.3.4
    epic: 8
    epic_name: testing-strategy
    description: 'Unbalanced Entry Rejected'
    mandatory: true
  - id: AC8.3.5
    epic: 8
    epic_name: testing-strategy
    description: 'Journal Entry CRUD'
    mandatory: true
  - id: AC8.4.1
    epic: 8
    epic_name: testing-strategy
    description: 'Statement upload (CSV)'
    mandatory: true
  - id: AC8.4.2
    epic: 8
    epic_name: testing-strategy
    description: 'Statement list and get'
    mandatory: true
  - id: AC8.4.3
    epic: 8
    epic_name: testing-strategy
    description: 'Statement full flow'
    mandatory: true
  - id: AC8.5.1
    epic: 8
    epic_name: testing-strategy
    description: 'Reconciliation engine runs'
    mandatory: true
  - id: AC8.5.2
    epic: 8
    epic_name: testing-strategy
    description: 'Reconciliation stats endpoint'
    mandatory: true
  - id: AC8.5.3
    epic: 8
    epic_name: testing-strategy
    description: 'Match acceptance'
    mandatory: true
  - id: AC8.6.1
    epic: 8
    epic_name: testing-strategy
    description: 'View Balance Sheet'
    mandatory: true
  - id: AC8.6.2
    epic: 8
    epic_name: testing-strategy
    description: 'View Income Statement'
    mandatory: true
  - id: AC8.6.3
    epic: 8
    epic_name: testing-strategy
    description: 'View Cash Flow Report'
    mandatory: true
  - id: AC8.6.4
    epic: 8
    epic_name: testing-strategy
    description: 'Report navigation (all endpoints)'
    mandatory: true
  - id: AC8.7.1
    epic: 8
    epic_name: testing-strategy
    description: 'API authentication failures'
    mandatory: true
  - id: AC8.7.2
    epic: 8
    epic_name: testing-strategy
    description: 'Unauthorized access blocked'
    mandatory: true
  - id: AC8.7.3
    epic: 8
    epic_name: testing-strategy
    description: 'User session management'
    mandatory: true
  - id: AC8.8.1
    epic: 8
    epic_name: testing-strategy
    description: 'API health check'
    mandatory: true
  - id: AC8.8.2
    epic: 8
    epic_name: testing-strategy
    description: 'Accounts CRUD API'
    mandatory: true
  - id: AC8.8.3
    epic: 8
    epic_name: testing-strategy
    description: 'Journal entry lifecycle API'
    mandatory: true
  - id: AC8.8.4
    epic: 8
    epic_name: testing-strategy
    description: 'Reports API'
    mandatory: true
  - id: AC8.8.5
    epic: 8
    epic_name: testing-strategy
    description: 'Reconciliation API'
    mandatory: true
  - id: AC8.9.1
    epic: 8
    epic_name: testing-strategy
    description: 'PR workflow runs E2E tests'
    mandatory: true
  - id: AC8.9.2
    epic: 8
    epic_name: testing-strategy
    description: 'Smoke tests integrated'
    mandatory: true
  - id: AC8.9.3
    epic: 8
    epic_name: testing-strategy
    description: 'Critical test check'
    mandatory: true
  - id: AC8.9.4
    epic: 8
    epic_name: testing-strategy
    description: 'Environment isolation'
    mandatory: true
  - id: AC8.10.1
    epic: 8
    epic_name: testing-strategy
    description: 'Health endpoint reachable'
    mandatory: true
  - id: AC8.10.2
    epic: 8
    epic_name: testing-strategy
    description: 'User can create account'
    mandatory: true
  - id: AC8.10.3
    epic: 8
    epic_name: testing-strategy
    description: 'User can create journal entry'
    mandatory: true
  - id: AC8.10.4
    epic: 8
    epic_name: testing-strategy
    description: 'Statement upload triggers AI'
    mandatory: true
  - id: AC8.10.5
    epic: 8
    epic_name: testing-strategy
    description: 'Reconciliation engine runs'
    mandatory: true
  - id: AC8.10.6
    epic: 8
    epic_name: testing-strategy
    description: 'Unbalanced entry rejected'
    mandatory: true
  - id: AC8.10.7
    epic: 8
    epic_name: testing-strategy
    description: 'Reports API accessible'
    mandatory: true
  - id: AC8.10.8
    epic: 8
    epic_name: testing-strategy
    description: 'User registration flow'
    mandatory: true
  - id: AC8.10.9
    epic: 8
    epic_name: testing-strategy
    description: 'Authentication validation'
    mandatory: true
  # EPIC-009: pdf-fixture-generation
  - id: AC9.1.1
    epic: 9
    epic_name: pdf-fixture-generation
    description: 'PDF analyzer exists'
    mandatory: true
  - id: AC9.1.2
    epic: 9
    epic_name: pdf-fixture-generation
    description: 'Template extractor exists'
    mandatory: true
  - id: AC9.1.3
    epic: 9
    epic_name: pdf-fixture-generation
    description: 'CLI tool exists'
    mandatory: true
  - id: AC9.1.4
    epic: 9
    epic_name: pdf-fixture-generation
    description: 'DBS template exists'
    mandatory: true
  - id: AC9.1.5
    epic: 9
    epic_name: pdf-fixture-generation
    description: 'CMB template exists'
    mandatory: true
  - id: AC9.1.6
    epic: 9
    epic_name: pdf-fixture-generation
    description: 'Mari Bank template exists'
    mandatory: true
  - id: AC9.2.1
    epic: 9
    epic_name: pdf-fixture-generation
    description: 'Base generator class exists'
    mandatory: true
  - id: AC9.2.2
    epic: 9
    epic_name: pdf-fixture-generation
    description: 'DBS generator exists'
    mandatory: true
  - id: AC9.2.3
    epic: 9
    epic_name: pdf-fixture-generation
    description: 'CMB generator exists'
    mandatory: true
  - id: AC9.2.4
    epic: 9
    epic_name: pdf-fixture-generation
    description: 'Mari Bank generator exists'
    mandatory: true
  - id: AC9.2.5
    epic: 9
    epic_name: pdf-fixture-generation
    description: 'Font utilities exist'
    mandatory: true
  - id: AC9.2.6
    epic: 9
    epic_name: pdf-fixture-generation
    description: 'Fake data generator exists'
    mandatory: true
  - id: AC9.2.7
    epic: 9
    epic_name: pdf-fixture-generation
    description: 'Main script exists'
    mandatory: true
  - id: AC9.3.1
    epic: 9
    epic_name: pdf-fixture-generation
    description: 'Format validator exists'
    mandatory: true
  - id: AC9.3.2
    epic: 9
    epic_name: pdf-fixture-generation
    description: 'Generated DBS PDF parseable'
    mandatory: true
  - id: AC9.3.3
    epic: 9
    epic_name: pdf-fixture-generation
    description: 'Generated CMB PDF parseable'
    mandatory: true
  - id: AC9.3.4
    epic: 9
    epic_name: pdf-fixture-generation
    description: 'Generated Mari PDF parseable'
    mandatory: true
  - id: AC9.3.5
    epic: 9
    epic_name: pdf-fixture-generation
    description: 'Balance calculations correct'
    mandatory: true
  - id: AC9.3.6
    epic: 9
    epic_name: pdf-fixture-generation
    description: 'Date formats correct'
    mandatory: true
  - id: AC9.4.1
    epic: 9
    epic_name: pdf-fixture-generation
    description: 'Format analysis README'
    mandatory: true
  - id: AC9.4.2
    epic: 9
    epic_name: pdf-fixture-generation
    description: 'Generation README'
    mandatory: true
  - id: AC9.4.3
    epic: 9
    epic_name: pdf-fixture-generation
    description: 'Template format specification'
    mandatory: true
  - id: AC9.4.4
    epic: 9
    epic_name: pdf-fixture-generation
    description: 'Usage examples'
    mandatory: true
  - id: AC9.5.1
    epic: 9
    epic_name: pdf-fixture-generation
    description: '.gitignore excludes real PDFs'
    mandatory: true
  - id: AC9.5.2
    epic: 9
    epic_name: pdf-fixture-generation
    description: 'Format templates committed'
    mandatory: true
  - id: AC9.5.3
    epic: 9
    epic_name: pdf-fixture-generation
    description: 'Generators committed'
    mandatory: true
  - id: AC9.5.4
    epic: 9
    epic_name: pdf-fixture-generation
    description: 'Analyzers committed'
    mandatory: true
  - id: AC9.5.5
    epic: 9
    epic_name: pdf-fixture-generation
    description: 'Validators committed'
    mandatory: true
  - id: AC9.6.1
    epic: 9
    epic_name: pdf-fixture-generation
    description: 'DBS generator loads template'
    mandatory: true
  - id: AC9.6.2
    epic: 9
    epic_name: pdf-fixture-generation
    description: 'CMB generator loads template'
    mandatory: true
  - id: AC9.6.3
    epic: 9
    epic_name: pdf-fixture-generation
    description: 'CMB generator supports Chinese fonts'
    mandatory: true
  - id: AC9.6.4
    epic: 9
    epic_name: pdf-fixture-generation
    description: 'Mari generator generates interest section'
    mandatory: true
  - id: AC9.6.5
    epic: 9
    epic_name: pdf-fixture-generation
    description: 'Generators use fictional data'
    mandatory: true
  - id: AC9.7.1
    epic: 9
    epic_name: pdf-fixture-generation
    description: 'Main script supports --source parameter'
    mandatory: true
  - id: AC9.7.2
    epic: 9
    epic_name: pdf-fixture-generation
    description: 'Main script supports --output parameter'
    mandatory: true
  - id: AC9.7.3
    epic: 9
    epic_name: pdf-fixture-generation
    description: 'Analyzer CLI supports input/output'
    mandatory: true
  - id: AC9.8.1
    epic: 9
    epic_name: pdf-fixture-generation
    description: 'Format analyzer extracts template'
    mandatory: true
  - id: AC9.8.2
    epic: 9
    epic_name: pdf-fixture-generation
    description: 'Template contains only format info'
    mandatory: true
  - id: AC9.8.3
    epic: 9
    epic_name: pdf-fixture-generation
    description: 'Generated DBS PDF parseable'
    mandatory: true
  - id: AC9.8.4
    epic: 9
    epic_name: pdf-fixture-generation
    description: 'Generated CMB PDF parseable'
    mandatory: true
  - id: AC9.8.5
    epic: 9
    epic_name: pdf-fixture-generation
    description: 'Generated Mari PDF parseable'
    mandatory: true
  - id: AC9.8.6
    epic: 9
    epic_name: pdf-fixture-generation
    description: 'Balance calculations correct'
    mandatory: true
  - id: AC9.8.7
    epic: 9
    epic_name: pdf-fixture-generation
    description: 'Date formats match real PDFs'
    mandatory: true
  - id: AC9.8.8
    epic: 9
    epic_name: pdf-fixture-generation
    description: 'Generated PDFs use fictional data'
    mandatory: true
  - id: AC9.8.9
    epic: 9
    epic_name: pdf-fixture-generation
    description: 'Format templates committed to repo'
    mandatory: true
  - id: AC9.8.10
    epic: 9
    epic_name: pdf-fixture-generation
    description: 'Real PDFs NOT committed'
    mandatory: true
  # EPIC-010: signoz-logging
  - id: AC10.1.1
    epic: 10
    epic_name: signoz-logging
    description: 'OTEL settings in config'
    mandatory: true
  - id: AC10.1.2
    epic: 10
    epic_name: signoz-logging
    description: 'Optional OTLP log export configured'
    mandatory: true
  - id: AC10.1.3
    epic: 10
    epic_name: signoz-logging
    description: 'Fallback to stdout when OTEL vars absent'
    mandatory: true
  - id: AC10.2.1
    epic: 10
    epic_name: signoz-logging
    description: 'Build OTLP endpoint adds suffix'
    mandatory: true
  - id: AC10.2.2
    epic: 10
    epic_name: signoz-logging
    description: 'Build OTLP endpoint preserves logs path'
    mandatory: true
  - id: AC10.3.1
    epic: 10
    epic_name: signoz-logging
    description: 'Select renderer uses console in debug'
    mandatory: true
  - id: AC10.3.2
    epic: 10
    epic_name: signoz-logging
    description: 'Select renderer uses JSON in production'
    mandatory: true
  - id: AC10.4.1
    epic: 10
    epic_name: signoz-logging
    description: 'Configure OTEL logging warns on missing dependency'
    mandatory: true
  - id: AC10.4.2
    epic: 10
    epic_name: signoz-logging
    description: 'Configure OTEL logging with fake exporter'
    mandatory: true
  - id: AC10.5.1
    epic: 10
    epic_name: signoz-logging
    description: 'Observability SSOT exists'
    mandatory: true
  - id: AC10.5.2
    epic: 10
    epic_name: signoz-logging
    description: 'SSOT linked in index'
    mandatory: true
  - id: AC10.5.3
    epic: 10
    epic_name: signoz-logging
    description: 'OTEL vars documented in .env.example'
    mandatory: true
  - id: AC10.5.4
    epic: 10
    epic_name: signoz-logging
    description: 'OTEL vars documented in config.py'
    mandatory: true
  - id: AC10.6.1
    epic: 10
    epic_name: signoz-logging
    description: 'OTEL keys in app secrets template'
    mandatory: true
  - id: AC10.6.2
    epic: 10
    epic_name: signoz-logging
    description: 'OTEL keys documented in app README'
    mandatory: true
  - id: AC10.6.3
    epic: 10
    epic_name: signoz-logging
    description: 'IAC_CONFIG_HASH in compose.yaml'
    mandatory: true
  - id: AC10.6.4
    epic: 10
    epic_name: signoz-logging
    description: 'Template helpers use printf not default'
    mandatory: true
  - id: AC10.7.1
    epic: 10
    epic_name: signoz-logging
    description: 'Backend starts without SigNoz'
    mandatory: true
  - id: AC10.7.2
    epic: 10
    epic_name: signoz-logging
    description: 'Logs export to SigNoz'
    mandatory: true
  - id: AC10.7.3
    epic: 10
    epic_name: signoz-logging
    description: 'No sensitive data in logs'
    mandatory: true
  - id: AC10.7.4
    epic: 10
    epic_name: signoz-logging
    description: 'OTLP optional by default'
    mandatory: true
  - id: AC10.7.5
    epic: 10
    epic_name: signoz-logging
    description: 'OTEL config documented'
    mandatory: true
  - id: AC10.7.6
    epic: 10
    epic_name: signoz-logging
    description: 'Vault templates include OTEL keys'
    mandatory: true
  - id: AC10.7.7
    epic: 10
    epic_name: signoz-logging
    description: 'Structured JSON logs in non-debug'
    mandatory: true
  # EPIC-011: asset-lifecycle
  - id: AC11.1.1
    epic: 11
    epic_name: asset-lifecycle
    description: 'Reconcile creates new position'
    mandatory: true
  - id: AC11.1.2
    epic: 11
    epic_name: asset-lifecycle
    description: 'Reconcile updates existing position quantity'
    mandatory: true
  - id: AC11.1.3
    epic: 11
    epic_name: asset-lifecycle
    description: 'Reconcile disposes position when quantity is 0'
    mandatory: true
  - id: AC11.1.4
    epic: 11
    epic_name: asset-lifecycle
    description: 'Cost basis is set from market_value'
    mandatory: true
  - id: AC11.1.5
    epic: 11
    epic_name: asset-lifecycle
    description: 'Reconcile multiple different assets'
    mandatory: true
  - id: AC11.1.6
    epic: 11
    epic_name: asset-lifecycle
    description: 'Same asset at different brokers creates separate positions'
    mandatory: true
  - id: AC11.1.7
    epic: 11
    epic_name: asset-lifecycle
    description: 'Null broker name handled correctly'
    mandatory: true
  - id: AC11.1.8
    epic: 11
    epic_name: asset-lifecycle
    description: 'Disposed position can be reactivated'
    mandatory: true
  - id: AC11.1.9
    epic: 11
    epic_name: asset-lifecycle
    description: 'Get positions returns empty list when no positions exist'
    mandatory: true
  - id: AC11.1.10
    epic: 11
    epic_name: asset-lifecycle
    description: 'Reconcile with no snapshots does nothing'
    mandatory: true
  - id: AC11.1.11
    epic: 11
    epic_name: asset-lifecycle
    description: 'Negative quantities (short positions) handled correctly'
    mandatory: true
  - id: AC11.1.12
    epic: 11
    epic_name: asset-lifecycle
    description: 'Updated and disposed counts are mutually exclusive'
    mandatory: true
  - id: AC11.2.1
    epic: 11
    epic_name: asset-lifecycle
    description: 'GET /assets/positions returns empty list when no positions'
    mandatory: true
  - id: AC11.2.2
    epic: 11
    epic_name: asset-lifecycle
    description: 'GET /assets/positions returns positions with data'
    mandatory: true
  - id: AC11.2.3
    epic: 11
    epic_name: asset-lifecycle
    description: 'GET /assets/positions filters by status correctly'
    mandatory: true
  - id: AC11.3.1
    epic: 11
    epic_name: asset-lifecycle
    description: 'GET /assets/positions/{id} returns position details'
    mandatory: true
  - id: AC11.3.2
    epic: 11
    epic_name: asset-lifecycle
    description: 'GET /assets/positions/{id} returns 404 for non-existent position'
    mandatory: true
  - id: AC11.3.3
    epic: 11
    epic_name: asset-lifecycle
    description: 'GET /assets/positions/{id} returns 404 for other user''s position'
    mandatory: true
  - id: AC11.4.1
    epic: 11
    epic_name: asset-lifecycle
    description: 'POST /assets/reconcile creates positions from snapshots'
    mandatory: true
  - id: AC11.4.2
    epic: 11
    epic_name: asset-lifecycle
    description: 'POST /assets/reconcile with no snapshots returns 0 counts'
    mandatory: true
  - id: AC11.5.1
    epic: 11
    epic_name: asset-lifecycle
    description: 'GET /assets/positions requires authentication'
    mandatory: true
  - id: AC11.5.2
    epic: 11
    epic_name: asset-lifecycle
    description: 'GET /assets/positions/{id} requires authentication'
    mandatory: true
  - id: AC11.5.3
    epic: 11
    epic_name: asset-lifecycle
    description: 'POST /assets/reconcile requires authentication'
    mandatory: true
  - id: AC11.6.1
    epic: 11
    epic_name: asset-lifecycle
    description: 'GET /assets/positions/{id}/depreciation returns depreciation schedule'
    mandatory: true
  - id: AC11.6.2
    epic: 11
    epic_name: asset-lifecycle
    description: 'GET /assets/positions/{id}/depreciation returns 400 for non-existent position'
    mandatory: true
  - id: AC11.6.3
    epic: 11
    epic_name: asset-lifecycle
    description: 'GET /assets/positions/{id}/depreciation returns 400 for disposed position'
    mandatory: true
  - id: AC11.6.4
    epic: 11
    epic_name: asset-lifecycle
    description: 'GET /assets/positions/{id}/depreciation returns 422 for invalid params'
    mandatory: true
  - id: AC11.7.1
    epic: 11
    epic_name: asset-lifecycle
    description: 'Verify position queries are isolated by user_id'
    mandatory: true
  # EPIC-012: foundation-libs
  - id: AC12.1.1
    epic: 12
    epic_name: foundation-libs
    description: 'OTEL logs endpoint adds suffix /v1/logs'
    mandatory: true
  - id: AC12.1.2
    epic: 12
    epic_name: foundation-libs
    description: 'OTEL logs endpoint preserves logs path with /v1/logs'
    mandatory: true
  - id: AC12.2.1
    epic: 12
    epic_name: foundation-libs
    description: 'Debug mode uses ConsoleRenderer'
    mandatory: true
  - id: AC12.2.2
    epic: 12
    epic_name: foundation-libs
    description: 'Production mode uses JSONRenderer'
    mandatory: true
  - id: AC12.3.1
    epic: 12
    epic_name: foundation-libs
    description: 'OTEL logging not available logs warning'
    mandatory: true
  - id: AC12.3.2
    epic: 12
    epic_name: foundation-libs
    description: 'OTEL tracing not available logs warning'
    mandatory: true
  - id: AC12.3.3
    epic: 12
    epic_name: foundation-libs
    description: 'OTEL logging with no endpoint skips setup'
    mandatory: true
  - id: AC12.4.1
    epic: 12
    epic_name: foundation-libs
    description: 'OTEL configuration sets up TracerProvider correctly'
    mandatory: true
  - id: AC12.5.1
    epic: 12
    epic_name: foundation-libs
    description: 'OTEL resource created with correct attributes'
    mandatory: true
  - id: AC12.6.1
    epic: 12
    epic_name: foundation-libs
    description: 'Sync log_timing logs operation with timing'
    mandatory: true
  - id: AC12.6.2
    epic: 12
    epic_name: foundation-libs
    description: 'Async log_timing includes additional context'
    mandatory: true
  - id: AC12.6.3
    epic: 12
    epic_name: foundation-libs
    description: 'log_timing yields mutable dict'
    mandatory: true
  - id: AC12.6.4
    epic: 12
    epic_name: foundation-libs
    description: 'log_timing with custom level'
    mandatory: true
  - id: AC12.7.1
    epic: 12
    epic_name: foundation-libs
    description: 'Sync external API call logs success'
    mandatory: true
  - id: AC12.7.2
    epic: 12
    epic_name: foundation-libs
    description: 'Sync external API call logs failure'
    mandatory: true
  - id: AC12.7.3
    epic: 12
    epic_name: foundation-libs
    description: 'Async external API call logs success'
    mandatory: true
  - id: AC12.7.4
    epic: 12
    epic_name: foundation-libs
    description: 'Async external API call logs failure'
    mandatory: true
  - id: AC12.7.5
    epic: 12
    epic_name: foundation-libs
    description: 'Sync external API with log_args=True logs args count'
    mandatory: true
  - id: AC12.8.1
    epic: 12
    epic_name: foundation-libs
    description: 'Log exception logs error with context'
    mandatory: true
  - id: AC12.8.2
    epic: 12
    epic_name: foundation-libs
    description: 'Log exception includes extra context fields'
    mandatory: true
  - id: AC12.8.3
    epic: 12
    epic_name: foundation-libs
    description: 'Log exception without traceback'
    mandatory: true
  - id: AC12.8.4
    epic: 12
    epic_name: foundation-libs
    description: 'Log exception with custom level'
    mandatory: true
  - id: AC12.10.1
    epic: 12
    epic_name: foundation-libs
    description: 'Build processors returns list'
    mandatory: true
  - id: AC12.11.1
    epic: 12
    epic_name: foundation-libs
    description: 'Trace context injects trace_id and span_id when span is valid'
    mandatory: true
  - id: AC12.11.2
    epic: 12
    epic_name: foundation-libs
    description: 'Trace context skips injection when span context is invalid'
    mandatory: true
  - id: AC12.11.3
    epic: 12
    epic_name: foundation-libs
    description: 'Trace context handles missing opentelemetry gracefully'
    mandatory: true
  - id: AC12.12.1
    epic: 12
    epic_name: foundation-libs
    description: 'OTEL tracing skips setup when no endpoint configured'
    mandatory: true
  - id: AC12.12.2
    epic: 12
    epic_name: foundation-libs
    description: 'TracerProvider created and resource attributes set'
    mandatory: true
  - id: AC12.12.3
    epic: 12
    epic_name: foundation-libs
    description: 'Traces path appends /v1/traces'
    mandatory: true
  - id: AC12.15.1
    epic: 12
    epic_name: foundation-libs
    description: 'Configure logging in debug mode'
    mandatory: true
  - id: AC12.15.2
    epic: 12
    epic_name: foundation-libs
    description: 'Configure logging in production mode'
    mandatory: true
  - id: AC12.16.1
    epic: 12
    epic_name: foundation-libs
    description: 'Async log_timing logs operation with timing'
    mandatory: true
  - id: AC12.16.2
    epic: 12
    epic_name: foundation-libs
    description: 'Async log_timing includes additional context'
    mandatory: true
  - id: AC12.17.1
    epic: 12
    epic_name: foundation-libs
    description: 'External API async with log_args=True logs args count'
    mandatory: true
  - id: AC12.17.2
    epic: 12
    epic_name: foundation-libs
    description: 'External API async failure with log_args=True logs args'
    mandatory: true
  - id: AC12.18.1
    epic: 12
    epic_name: foundation-libs
    description: 'Ensure PRIMARY_MODEL follows expected pattern'
    mandatory: true
  - id: AC12.18.2
    epic: 12
    epic_name: foundation-libs
    description: 'Ensure config.py default matches .env.example documentation'
    mandatory: true
  - id: AC12.18.3
    epic: 12
    epic_name: foundation-libs
    description: 'Ensure BASE_CURRENCY is valid ISO 4217 currency code'
    mandatory: true
  - id: AC12.18.4
    epic: 12
    epic_name: foundation-libs
    description: 'Ensure S3_BUCKET follows naming conventions'
    mandatory: true
  - id: AC12.18.5
    epic: 12
    epic_name: foundation-libs
    description: 'Ensure JWT_ALGORITHM is secure algorithm'
    mandatory: true
  - id: AC12.18.6
    epic: 12
    epic_name: foundation-libs
    description: 'Ensure DATABASE_URL follows expected format'
    mandatory: true
  - id: AC12.19.1
    epic: 12
    epic_name: foundation-libs
    description: 'Moon workspace configuration files exist'
    mandatory: true
  # EPIC-013: statement-parsing-v2
  - id: AC13.1.1
    epic: 13
    epic_name: statement-parsing-v2
    description: 'Test that valid balances pass validation'
    mandatory: true
  - id: AC13.1.2
    epic: 13
    epic_name: statement-parsing-v2
    description: 'Test that invalid balances fail validation'
    mandatory: true
  - id: AC13.1.3
    epic: 13
    epic_name: statement-parsing-v2
    description: 'Test that small differences are tolerated'
    mandatory: true
  - id: AC13.2.1
    epic: 13
    epic_name: statement-parsing-v2
    description: 'Test that complete data gets high confidence (Auto-Accept)'
    mandatory: true
  - id: AC13.2.2
    epic: 13
    epic_name: statement-parsing-v2
    description: 'Test that partial data gets medium confidence (Review)'
    mandatory: true
  - id: AC13.2.3
    epic: 13
    epic_name: statement-parsing-v2
    description: 'Test that no transactions lowers confidence (Manual)'
    mandatory: true
  - id: AC13.3.1
    epic: 13
    epic_name: statement-parsing-v2
    description: 'Test DBS fixture has correct structure'
    mandatory: true
  - id: AC13.3.2
    epic: 13
    epic_name: statement-parsing-v2
    description: 'Test DBS fixture balances reconcile'
    mandatory: true
  - id: AC13.3.3
    epic: 13
    epic_name: statement-parsing-v2
    description: 'Test MariBank fixture has sanitized merchant names'
    mandatory: true
  - id: AC13.3.4
    epic: 13
    epic_name: statement-parsing-v2
    description: 'Test GXS fixture has daily interest entries'
    mandatory: true
  - id: AC13.3.5
    epic: 13
    epic_name: statement-parsing-v2
    description: 'Test all fixtures have valid dates'
    mandatory: true
  - id: AC13.4.1
    epic: 13
    epic_name: statement-parsing-v2
    description: 'Test default parsing prompt'
    mandatory: true
  - id: AC13.4.2
    epic: 13
    epic_name: statement-parsing-v2
    description: 'Test DBS-specific prompt'
    mandatory: true
  - id: AC13.4.3
    epic: 13
    epic_name: statement-parsing-v2
    description: 'Test CMB-specific prompt'
    mandatory: true
  - id: AC13.4.4
    epic: 13
    epic_name: statement-parsing-v2
    description: 'Test with unknown institution returns base prompt'
    mandatory: true
  - id: AC13.4.5
    epic: 13
    epic_name: statement-parsing-v2
    description: 'Test Futu-specific prompt'
    mandatory: true
  - id: AC13.4.6
    epic: 13
    epic_name: statement-parsing-v2
    description: 'Test GXS-specific prompt'
    mandatory: true
  - id: AC13.4.7
    epic: 13
    epic_name: statement-parsing-v2
    description: 'Test MariBank-specific prompt'
    mandatory: true
  - id: AC13.5.1
    epic: 13
    epic_name: statement-parsing-v2
    description: 'Test that PDFs use OpenRouter ''file'' type'
    mandatory: true
  - id: AC13.5.2
    epic: 13
    epic_name: statement-parsing-v2
    description: 'Test that PNG images use ''image_url'' type'
    mandatory: true
  - id: AC13.5.3
    epic: 13
    epic_name: statement-parsing-v2
    description: 'Test that JPG images use ''image_url'' type'
    mandatory: true
  - id: AC13.5.4
    epic: 13
    epic_name: statement-parsing-v2
    description: 'Test that JPEG images use ''image_url'' type'
    mandatory: true
  - id: AC13.6.1
    epic: 13
    epic_name: statement-parsing-v2
    description: 'Test that CSV parsing raises error when institution is None'
    mandatory: true
  - id: AC13.6.2
    epic: 13
    epic_name: statement-parsing-v2
    description: 'Test that parse_document accepts institution=None for PDFs (AI auto-detect)'
    mandatory: true
  - id: AC13.6.3
    epic: 13
    epic_name: statement-parsing-v2
    description: 'Test that parse_document accepts force_model parameter'
    mandatory: true
  - id: AC13.7.1
    epic: 13
    epic_name: statement-parsing-v2
    description: 'Test event confidence with complete data'
    mandatory: true
  - id: AC13.7.2
    epic: 13
    epic_name: statement-parsing-v2
    description: 'Test event confidence with missing fields'
    mandatory: true
  - id: AC13.7.3
    epic: 13
    epic_name: statement-parsing-v2
    description: 'Test event confidence with invalid date format'
    mandatory: true
  - id: AC13.7.4
    epic: 13
    epic_name: statement-parsing-v2
    description: 'Test event confidence with null date'
    mandatory: true
  - id: AC13.7.5
    epic: 13
    epic_name: statement-parsing-v2
    description: 'Test _safe_date with valid input'
    mandatory: true
  - id: AC13.7.6
    epic: 13
    epic_name: statement-parsing-v2
    description: 'Test _safe_date with invalid format'
    mandatory: true
  - id: AC13.7.7
    epic: 13
    epic_name: statement-parsing-v2
    description: 'Test _safe_date with empty input'
    mandatory: true
  - id: AC13.7.8
    epic: 13
    epic_name: statement-parsing-v2
    description: 'Test _safe_decimal with valid input'
    mandatory: true
  - id: AC13.7.9
    epic: 13
    epic_name: statement-parsing-v2
    description: 'Test _safe_decimal with invalid input'
    mandatory: true
  - id: AC13.7.10
    epic: 13
    epic_name: statement-parsing-v2
    description: 'Test _safe_decimal with None'
    mandatory: true
  - id: AC13.7.11
    epic: 13
    epic_name: statement-parsing-v2
    description: 'Test _safe_decimal None required'
    mandatory: true
  - id: AC13.7.12
    epic: 13
    epic_name: statement-parsing-v2
    description: 'Test compute_confidence with missing transactions key'
    mandatory: true
  - id: AC13.8.1
    epic: 13
    epic_name: statement-parsing-v2
    description: 'Test consistent chain scores 10'
    mandatory: true
  - id: AC13.8.2
    epic: 13
    epic_name: statement-parsing-v2
    description: 'Test inconsistent chain scores 0'
    mandatory: true
  - id: AC13.8.3
    epic: 13
    epic_name: statement-parsing-v2
    description: 'Test single transaction'
    mandatory: true
  - id: AC13.8.4
    epic: 13
    epic_name: statement-parsing-v2
    description: 'Test no balance after'
    mandatory: true
  - id: AC13.8.5
    epic: 13
    epic_name: statement-parsing-v2
    description: 'Test empty list'
    mandatory: true
  - id: AC13.8.6
    epic: 13
    epic_name: statement-parsing-v2
    description: 'Test partial consistency'
    mandatory: true
  - id: AC13.8.7
    epic: 13
    epic_name: statement-parsing-v2
    description: 'Test all currencies match'
    mandatory: true
  - id: AC13.8.8
    epic: 13
    epic_name: statement-parsing-v2
    description: 'Test no currencies match'
    mandatory: true
  - id: AC13.8.9
    epic: 13
    epic_name: statement-parsing-v2
    description: 'Test no header currency'
    mandatory: true
  - id: AC13.8.10
    epic: 13
    epic_name: statement-parsing-v2
    description: 'Test no currencies in transactions'
    mandatory: true
  - id: AC13.8.11
    epic: 13
    epic_name: statement-parsing-v2
    description: 'Test empty list (currency)'
    mandatory: true
  - id: AC13.8.12
    epic: 13
    epic_name: statement-parsing-v2
    description: 'Test mixed currencies partial'
    mandatory: true
  - id: AC13.8.13
    epic: 13
    epic_name: statement-parsing-v2
    description: 'Test missing currencies penalized'
    mandatory: true
  - id: AC13.9.1
    epic: 13
    epic_name: statement-parsing-v2
    description: 'Test full score with all factors'
    mandatory: true
  - id: AC13.9.2
    epic: 13
    epic_name: statement-parsing-v2
    description: 'Test no new factors caps at 85'
    mandatory: true
  # EPIC-015: processing-account
  - id: AC15.1.1
    epic: 15
    epic_name: processing-account
    description: 'Processing Account Created'
    mandatory: true
  - id: AC15.1.2
    epic: 15
    epic_name: processing-account
    description: 'Idempotent Creation'
    mandatory: true
  - id: AC15.1.3
    epic: 15
    epic_name: processing-account
    description: 'Hidden from User Accounts'
    mandatory: true
  - id: AC15.1.4
    epic: 15
    epic_name: processing-account
    description: 'Per-User Isolation'
    mandatory: true
  - id: AC15.2.1
    epic: 15
    epic_name: processing-account
    description: 'Transfer OUT Entry'
    mandatory: true
  - id: AC15.2.2
    epic: 15
    epic_name: processing-account
    description: 'Transfer IN Entry'
    mandatory: true
  - id: AC15.2.3
    epic: 15
    epic_name: processing-account
    description: 'Paired Transfers Zero Balance'
    mandatory: true
  - id: AC15.3.1
    epic: 15
    epic_name: processing-account
    description: 'Unpaired Transfer Visible'
    mandatory: true
  - id: AC15.3.2
    epic: 15
    epic_name: processing-account
    description: 'Accounting Equation Holds'
    mandatory: true
  - id: AC15.4.1
    epic: 15
    epic_name: processing-account
    description: 'Keyword Detection'
    mandatory: true
  - id: AC15.4.2
    epic: 15
    epic_name: processing-account
    description: 'Non-Transfer Detection'
    mandatory: true
  - id: AC15.4.3
    epic: 15
    epic_name: processing-account
    description: 'Auto-Pairing Above Threshold'
    mandatory: true
  - id: AC15.5.1
    epic: 15
    epic_name: processing-account
    description: 'Amount Scoring (Exact)'
    mandatory: true
  - id: AC15.5.2
    epic: 15
    epic_name: processing-account
    description: 'Amount Scoring (Tiers)'
    mandatory: true
  - id: AC15.5.3
    epic: 15
    epic_name: processing-account
    description: 'Description Scoring'
    mandatory: true
  - id: AC15.5.4
    epic: 15
    epic_name: processing-account
    description: 'Date Scoring'
    mandatory: true
  - id: AC15.6.1
    epic: 15
    epic_name: processing-account
    description: 'Transfer Detection During Reconciliation'
    mandatory: true
  - id: AC15.6.2
    epic: 15
    epic_name: processing-account
    description: 'Transfer Detection Skips (No Account)'
    mandatory: true
  - id: AC15.6.3
    epic: 15
    epic_name: processing-account
    description: 'Transfer IN Detection'
    mandatory: true
  - id: AC15.6.4
    epic: 15
    epic_name: processing-account
    description: 'Auto-Pairing Phase'
    mandatory: true
  - id: AC15.6.5
    epic: 15
    epic_name: processing-account
    description: 'Unpaired Transfer Balance'
    mandatory: true
  - id: AC15.6.6
    epic: 15
    epic_name: processing-account
    description: 'Normal Matching Preserved'
    mandatory: true
  # EPIC-016: two-stage-review-ui
  - id: AC16.1.1
    epic: 16
    epic_name: two-stage-review-ui
    description: 'Balance validation tolerance = 0.001 USD'
    mandatory: true
  - id: AC16.1.2
    epic: 16
    epic_name: two-stage-review-ui
    description: 'Stage 1 UI shows PDF + parsed split view'
    mandatory: true
  - id: AC16.1.3
    epic: 16
    epic_name: two-stage-review-ui
    description: 'Approve button disabled if balance invalid'
    mandatory: true
  - id: AC16.2.1
    epic: 16
    epic_name: two-stage-review-ui
    description: 'Deduplication detection accuracy ≥ 95%'
    mandatory: true
  - id: AC16.2.2
    epic: 16
    epic_name: two-stage-review-ui
    description: 'Transfer pair detection accuracy ≥ 90%'
    mandatory: true
  - id: AC16.2.3
    epic: 16
    epic_name: two-stage-review-ui
    description: 'Batch approve blocked if unresolved checks'
    mandatory: true
  - id: AC16.2.4
    epic: 16
    epic_name: two-stage-review-ui
    description: 'Stage 2 UI supports batch operations'
    mandatory: true
  # EPIC-016: two-stage-review (coverage branch - additional service tests)
  - id: AC16.3.1
    epic: 16
    epic_name: two-stage-review-ui
    description: 'validate_balance_chain raises ValueError when statement not found'
    mandatory: true
  - id: AC16.3.2
    epic: 16
    epic_name: two-stage-review-ui
    description: '_get_opening_balance falls back to opening_balance when no prev statement'
    mandatory: true
  - id: AC16.3.3
    epic: 16
    epic_name: two-stage-review-ui
    description: '_get_opening_balance uses prev statement closing_balance when available'
    mandatory: true
  - id: AC16.3.4
    epic: 16
    epic_name: two-stage-review-ui
    description: 'reject_statement without reason clears validation_error'
    mandatory: true
  - id: AC16.3.5
    epic: 16
    epic_name: two-stage-review-ui
    description: 'edit_and_approve raises ValueError when balance still invalid after edits'
    mandatory: true
  - id: AC16.3.6
    epic: 16
    epic_name: two-stage-review-ui
    description: '_get_statement_for_update raises ValueError when wrong user_id'
    mandatory: true
  - id: AC16.4.1
    epic: 16
    epic_name: two-stage-review-ui
    description: 'detect_duplicates runs global scan when no statement_id provided'
    mandatory: true
  - id: AC16.4.2
    epic: 16
    epic_name: two-stage-review-ui
    description: 'detect_duplicates is idempotent - does not create duplicate checks'
    mandatory: true
  - id: AC16.4.3
    epic: 16
    epic_name: two-stage-review-ui
    description: 'detect_transfer_pairs runs global scan when no statement_id provided'
    mandatory: true
  - id: AC16.4.4
    epic: 16
    epic_name: two-stage-review-ui
    description: 'resolve_check raises ValueError on invalid action'
    mandatory: true
  - id: AC16.4.5
    epic: 16
    epic_name: two-stage-review-ui
    description: 'resolve_check raises ValueError when check not found or wrong user'
    mandatory: true
  - id: AC16.4.6
    epic: 16
    epic_name: two-stage-review-ui
    description: 'resolve_check sets FLAGGED status when action=flag'
    mandatory: true
  - id: AC16.4.7
    epic: 16
    epic_name: two-stage-review-ui
    description: 'get_pending_checks filters by severity'
    mandatory: true

  # EPIC-016: two-stage-review (frontend utility coverage)
  - id: AC16.5.1
    epic: 16
    epic_name: two-stage-review-ui
    description: 'getUserId returns null when not set'
    mandatory: true
  - id: AC16.5.2
    epic: 16
    epic_name: two-stage-review-ui
    description: 'getUserId returns stored userId from localStorage'
    mandatory: true
  - id: AC16.5.3
    epic: 16
    epic_name: two-stage-review-ui
    description: 'setUser stores userId, email, and optional token'
    mandatory: true
  - id: AC16.5.4
    epic: 16
    epic_name: two-stage-review-ui
    description: 'clearUser removes all auth keys from localStorage'
    mandatory: true
  - id: AC16.5.5
    epic: 16
    epic_name: two-stage-review-ui
    description: 'isAuthenticated returns false when no token, true when token exists'
    mandatory: true
  - id: AC16.6.1
    epic: 16
    epic_name: two-stage-review-ui
    description: 'formatDateInput formats Date as YYYY-MM-DD with zero-padded month and day'
    mandatory: true
  - id: AC16.7.1
    epic: 16
    epic_name: two-stage-review-ui
    description: 'getTheme returns stored value or system preference'
    mandatory: true
  - id: AC16.7.2
    epic: 16
    epic_name: two-stage-review-ui
    description: 'setTheme adds/removes dark class and saves to localStorage'
    mandatory: true
  - id: AC16.7.3
    epic: 16
    epic_name: two-stage-review-ui
    description: 'toggleTheme switches between dark and light'
    mandatory: true
  - id: AC16.7.4
    epic: 16
    epic_name: two-stage-review-ui
    description: 'initTheme applies stored or system theme on load'
    mandatory: true
  - id: AC16.8.1
    epic: 16
    epic_name: two-stage-review-ui
    description: 'fetchAiModels calls /api/ai/models with no params when no options'
    mandatory: true
  - id: AC16.8.2
    epic: 16
    epic_name: two-stage-review-ui
    description: 'fetchAiModels appends modality query param when provided'
    mandatory: true
  - id: AC16.8.3
    epic: 16
    epic_name: two-stage-review-ui
    description: 'fetchAiModels appends free_only=true when freeOnly is set'
    mandatory: true
  - id: AC16.9.1
    epic: 16
    epic_name: two-stage-review-ui
    description: 'useCurrencies returns default currencies while loading'
    mandatory: true
  - id: AC16.9.2
    epic: 16
    epic_name: two-stage-review-ui
    description: 'useCurrencies updates currencies from API response'
    mandatory: true
  - id: AC16.9.3
    epic: 16
    epic_name: two-stage-review-ui
    description: 'useCurrencies falls back to defaults on API error'
    mandatory: true
  - id: AC16.10.1
    epic: 16
    epic_name: two-stage-review-ui
    description: 'apiFetch returns JSON on 200 response'
    mandatory: true
  - id: AC16.10.2
    epic: 16
    epic_name: two-stage-review-ui
    description: 'apiFetch returns undefined on 204 No Content'
    mandatory: true
  - id: AC16.10.3
    epic: 16
    epic_name: two-stage-review-ui
    description: 'apiFetch throws error with detail message on non-ok response'
    mandatory: true
  - id: AC16.10.4
    epic: 16
    epic_name: two-stage-review-ui
    description: 'apiFetch throws on non-JSON error text'
    mandatory: true
  - id: AC16.10.5
    epic: 16
    epic_name: two-stage-review-ui
    description: 'apiFetch calls handle401Redirect on 401 response'
    mandatory: true
  - id: AC16.10.6
    epic: 16
    epic_name: two-stage-review-ui
    description: 'resetRedirectGuard resets the redirect guard state'
    mandatory: true
  - id: AC16.10.7
    epic: 16
    epic_name: two-stage-review-ui
    description: 'apiDelete succeeds on 200 response'
    mandatory: true
  - id: AC16.10.8
    epic: 16
    epic_name: two-stage-review-ui
    description: 'apiDelete throws on non-ok response'
    mandatory: true
  - id: AC16.10.9
    epic: 16
    epic_name: two-stage-review-ui
    description: 'apiStream returns response and sessionId on success'
    mandatory: true
  - id: AC16.10.10
    epic: 16
    epic_name: two-stage-review-ui
    description: 'apiStream throws on non-ok response'
    mandatory: true
  - id: AC16.10.11
    epic: 16
    epic_name: two-stage-review-ui
    description: 'apiUpload returns JSON on 200 response'
    mandatory: true
  - id: AC16.10.12
    epic: 16
    epic_name: two-stage-review-ui
    description: 'apiUpload returns undefined on 204 No Content'
    mandatory: true
  - id: AC16.10.13
    epic: 16
    epic_name: two-stage-review-ui
    description: 'apiFetch normalizes path without leading slash'
    mandatory: true
  - id: AC16.10.14
    epic: 16
    epic_name: two-stage-review-ui
    description: 'apiFetch includes Authorization header when token present'
    mandatory: true
  - id: AC16.11.1
    epic: 16
    epic_name: two-stage-review-ui
    description: 'debug detect_environment returns CI when GITHUB_ACTIONS is true'
    mandatory: true
  - id: AC16.11.2
    epic: 16
    epic_name: two-stage-review-ui
    description: 'debug detect_environment returns LOCAL when docker ps succeeds'
    mandatory: true
  - id: AC16.11.3
    epic: 16
    epic_name: two-stage-review-ui
    description: 'debug detect_environment falls back to PRODUCTION on docker failure'
    mandatory: true
  - id: AC16.11.4
    epic: 16
    epic_name: two-stage-review-ui
    description: 'debug validate_hostname rejects empty and leading-hyphen hostnames'
    mandatory: true
  - id: AC16.11.5
    epic: 16
    epic_name: two-stage-review-ui
    description: 'debug validate_username enforces unix-safe pattern'
    mandatory: true
  - id: AC16.11.6
    epic: 16
    epic_name: two-stage-review-ui
    description: 'debug get_container_name maps known service names by environment'
    mandatory: true
  - id: AC16.11.7
    epic: 16
    epic_name: two-stage-review-ui
    description: 'debug list_containers prints all mapped containers for an environment'
    mandatory: true
  - id: AC16.11.8
    epic: 16
    epic_name: two-stage-review-ui
    description: 'cleanup_orphaned_dbs extract_namespace handles worker suffix and invalid names'
    mandatory: true
  - id: AC16.11.9
    epic: 16
    epic_name: two-stage-review-ui
    description: 'cleanup_orphaned_dbs load_active_namespaces returns [] when file missing or corrupt'
    mandatory: true
  - id: AC16.11.10
    epic: 16
    epic_name: two-stage-review-ui
    description: 'cleanup_orphaned_dbs get_container_runtime returns first available runtime'
    mandatory: true
  - id: AC16.11.11
    epic: 16
    epic_name: two-stage-review-ui
    description: 'cleanup_orphaned_dbs list_test_databases parses psql output and handles subprocess errors'
    mandatory: true
  - id: AC16.11.12
    epic: 16
    epic_name: two-stage-review-ui
    description: 'cleanup_orphaned_dbs cleanup_orphaned returns error when runtime missing'
    mandatory: true
  - id: AC16.11.13
    epic: 16
    epic_name: two-stage-review-ui
    description: 'cleanup_orphaned_dbs cleanup_orphaned returns success when no test databases'
    mandatory: true
  - id: AC16.11.14
    epic: 16
    epic_name: two-stage-review-ui
    description: 'cleanup_orphaned_dbs cleanup_orphaned skips active namespace databases'
    mandatory: true
  - id: AC16.11.15
    epic: 16
    epic_name: two-stage-review-ui
    description: 'cleanup_orphaned_dbs cleanup_orphaned cleans all databases in --all mode'
    mandatory: true
  - id: AC16.11.16
    epic: 16
    epic_name: two-stage-review-ui
    description: 'cli get_compose_cmd prefers podman then docker and exits when unavailable'
    mandatory: true
  - id: AC16.11.17
    epic: 16
    epic_name: two-stage-review-ui
    description: 'cli cmd_test routes frontend/e2e/perf/tests and lifecycle modes correctly'
    mandatory: true
  - id: AC16.11.18
    epic: 16
    epic_name: two-stage-review-ui
    description: 'cli cmd_clean routes db/containers/default cleanup targets correctly'
    mandatory: true
  - id: AC16.11.19
    epic: 16
    epic_name: two-stage-review-ui
    description: 'dev_backend check_database_ready returns false on migration subprocess errors'
    mandatory: true
  - id: AC16.11.20
    epic: 16
    epic_name: two-stage-review-ui
    description: 'dev_frontend cleanup terminates tracked process and exits cleanly'
    mandatory: true
  - id: AC16.12.1
    epic: 16
    epic_name: two-stage-review-ui
    description: 'dashboard page shows loading state before API responses resolve'
    mandatory: true
  - id: AC16.12.2
    epic: 16
    epic_name: two-stage-review-ui
    description: 'dashboard page renders error fallback and retry action when API request fails'
    mandatory: true
  - id: AC16.12.3
    epic: 16
    epic_name: two-stage-review-ui
    description: 'dashboard page renders KPI, charts, and recent activity when API requests succeed'
    mandatory: true
  - id: AC16.12.4
    epic: 16
    epic_name: two-stage-review-ui
    description: 'dashboard page renders empty-state copy when trend or activity datasets are empty'
    mandatory: true
  - id: AC16.12.5
    epic: 16
    epic_name: two-stage-review-ui
    description: 'login page submits login payload and redirects on success'
    mandatory: true
  - id: AC16.12.6
    epic: 16
    epic_name: two-stage-review-ui
    description: 'login page toggles register mode and switches endpoint for submit'
    mandatory: true
  - id: AC16.12.7
    epic: 16
    epic_name: two-stage-review-ui
    description: 'login page shows API error messages and resets loading state on failure'
    mandatory: true
  - id: AC16.12.8
    epic: 16
    epic_name: two-stage-review-ui
    description: 'ping-pong page loads initial state and displays current ping/pong value'
    mandatory: true
  - id: AC16.12.9
    epic: 16
    epic_name: two-stage-review-ui
    description: 'ping-pong page toggles state and updates toggle count on button click'
    mandatory: true
  - id: AC16.12.10
    epic: 16
    epic_name: two-stage-review-ui
    description: 'ping-pong page renders retry flow when initial load fails'
    mandatory: true
  - id: AC16.12.11
    epic: 16
    epic_name: two-stage-review-ui
    description: 'reports page renders all report cards with links for available reports'
    mandatory: true
  - id: AC16.12.12
    epic: 16
    epic_name: two-stage-review-ui
    description: 'reports page displays accounting equation section content'
    mandatory: true
  - id: AC16.13.1
    epic: 16
    epic_name: two-stage-review-ui
    description: 'test_lifecycle sanitize namespace normalizes branch/workspace names'
    mandatory: true
  - id: AC16.13.2
    epic: 16
    epic_name: two-stage-review-ui
    description: 'test_lifecycle get_namespace honors BRANCH_NAME and optional WORKSPACE_ID'
    mandatory: true
  - id: AC16.13.3
    epic: 16
    epic_name: two-stage-review-ui
    description: 'test_lifecycle get_namespace falls back to git branch plus path hash when env vars are absent'
    mandatory: true
  - id: AC16.13.4
    epic: 16
    epic_name: two-stage-review-ui
    description: 'test_lifecycle get_test_db_name and get_s3_bucket format names deterministically'
    mandatory: true
  - id: AC16.13.5
    epic: 16
    epic_name: two-stage-review-ui
    description: 'test_lifecycle load_active_namespaces returns [] on missing or corrupted tracker file'
    mandatory: true
  - id: AC16.13.6
    epic: 16
    epic_name: two-stage-review-ui
    description: 'test_lifecycle register_namespace and unregister_namespace update active namespace tracker'
    mandatory: true
  - id: AC16.13.7
    epic: 16
    epic_name: two-stage-review-ui
    description: 'test_lifecycle get_container_runtime detects podman/docker and returns None when absent'
    mandatory: true
  - id: AC16.13.8
    epic: 16
    epic_name: two-stage-review-ui
    description: 'test_lifecycle is_db_ready returns false on pg_isready subprocess failure'
    mandatory: true
  - id: AC16.13.9
    epic: 16
    epic_name: two-stage-review-ui
    description: 'test_lifecycle cleanup_worker_databases skips invalid namespace values'
    mandatory: true
  - id: AC16.13.10
    epic: 16
    epic_name: two-stage-review-ui
    description: 'test_lifecycle cleanup_worker_databases drops valid worker db names and skips invalid names'
    mandatory: true
  - id: AC16.13.11
    epic: 16
    epic_name: two-stage-review-ui
    description: 'test_lifecycle _get_changed_files maps backend python paths into module import names'
    mandatory: true
  - id: AC16.13.12
    epic: 16
    epic_name: two-stage-review-ui
    description: 'generate_test_pdfs generate_statement writes table rows and closing balance from Decimal transactions'
    mandatory: true
  - id: AC16.14.1
    epic: 16
    epic_name: two-stage-review-ui
    description: 'balance-sheet page renders loading and error retry states'
    mandatory: true
  - id: AC16.14.2
    epic: 16
    epic_name: two-stage-review-ui
    description: 'balance-sheet page renders totals and account sections on successful fetch'
    mandatory: true
  - id: AC16.14.3
    epic: 16
    epic_name: two-stage-review-ui
    description: 'balance-sheet page toggles account tree expansion controls'
    mandatory: true
  - id: AC16.14.4
    epic: 16
    epic_name: two-stage-review-ui
    description: 'income-statement page renders loading and error retry states'
    mandatory: true
  - id: AC16.14.5
    epic: 16
    epic_name: two-stage-review-ui
    description: 'income-statement page renders KPI cards and category lists on success'
    mandatory: true
  - id: AC16.14.6
    epic: 16
    epic_name: two-stage-review-ui
    description: 'income-statement page tag filters can be selected and cleared'
    mandatory: true
  - id: AC16.14.7
    epic: 16
    epic_name: two-stage-review-ui
    description: 'cash-flow page renders loading and error retry states'
    mandatory: true
  - id: AC16.14.8
    epic: 16
    epic_name: two-stage-review-ui
    description: 'cash-flow page renders summary and section cards on success'
    mandatory: true
  - id: AC16.14.9
    epic: 16
    epic_name: two-stage-review-ui
    description: 'cash-flow page renders sankey chart when summary exists'
    mandatory: true
  - id: AC16.14.10
    epic: 16
    epic_name: two-stage-review-ui
    description: 'statements page renders loading, error, empty, and populated states'
    mandatory: true
  - id: AC16.14.11
    epic: 16
    epic_name: two-stage-review-ui
    description: 'statements page enables polling when parsing status is present'
    mandatory: true
  - id: AC16.14.12
    epic: 16
    epic_name: two-stage-review-ui
    description: 'statements page delete action calls delete API and toast on confirm'
    mandatory: true
  - id: AC16.15.1
    epic: 16
    epic_name: two-stage-review-ui
    description: 'accounts page renders loading and error retry states'
    mandatory: true
  - id: AC16.15.2
    epic: 16
    epic_name: two-stage-review-ui
    description: 'accounts page renders grouped account cards and type filters on successful fetch'
    mandatory: true
  - id: AC16.15.3
    epic: 16
    epic_name: two-stage-review-ui
    description: 'accounts page delete action confirms and calls delete API with success toast'
    mandatory: true
  - id: AC16.15.4
    epic: 16
    epic_name: two-stage-review-ui
    description: 'assets page renders loading and error retry states'
    mandatory: true
  - id: AC16.15.5
    epic: 16
    epic_name: two-stage-review-ui
    description: 'assets page renders grouped positions and status filters on successful fetch'
    mandatory: true
  - id: AC16.15.6
    epic: 16
    epic_name: two-stage-review-ui
    description: 'assets page reconcile action calls API and shows toast summary'
    mandatory: true
